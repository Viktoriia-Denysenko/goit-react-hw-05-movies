{"version":3,"file":"static/js/677.a522806c.chunk.js","mappings":"4TAEO,SAAeA,IAAtB,4CAAO,OAAP,oBAAO,oGACkBC,IAAAA,IACrB,4FAFG,cACCC,EADD,yBAIEA,EAASC,KAAKC,SAJhB,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA6BC,GAA7B,uFACkBL,IAAAA,IAAA,6CACiBK,EADjB,6DADlB,cACCJ,EADD,yBAIEA,EAASC,MAJX,kEAOA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,uFACkBP,IAAAA,IAAA,kHACsFO,IAFxG,cACCN,EADD,yBAIEA,EAASC,KAAKC,SAJhB,kEAOA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA+BH,GAA/B,uFACkBL,IAAAA,IAAA,6CACiBK,EADjB,qEADlB,cACCJ,EADD,yBAIEA,EAASC,KAAKO,MAJhB,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BL,GAA/B,uFACkBL,IAAAA,IAAA,6CACiBK,EADjB,qEADlB,cACCJ,EADD,yBAIEA,EAASC,KAAKC,SAJhB,oE,4JC7BP,GAAgB,UAAY,2B,UCA5B,EAAuB,mBAAvB,EAAkD,oBAAlD,EAA+E,qB,SCqC/E,MAlCA,YAA6B,IAAbQ,EAAY,EAAZA,SACd,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BC,EAAAA,EAAAA,UAASF,EAAaG,IAAI,UAAY,IAAhE,eAAOT,EAAP,KAAcU,EAAd,KAcA,OACE,kBAAMC,UAAWC,EAAQR,SANN,SAAAS,GACnBA,EAAMC,iBACNV,EAASJ,IAIT,WACE,kBACEW,UAAWC,EACXG,KAAK,OACLC,aAAa,MACbC,KAAK,QACLC,MAAOlB,EACPmB,WAAS,EACTC,SArBe,SAAAP,GACnBH,EAASG,EAAMQ,cAAcH,MAAMI,cAAcC,QACjDhB,EAAgB,CACdP,MAAOa,EAAMQ,cAAcH,MAAMI,cAAcC,aAoB/C,mBAAQR,KAAK,SAASJ,UAAWC,EAAjC,wBC2BN,MAlDA,WACE,OAA4BJ,EAAAA,EAAAA,UAAS,MAArC,eAAOgB,EAAP,KAAeC,EAAf,KACA,GAA8BjB,EAAAA,EAAAA,WAAS,GAAvC,eAAOkB,EAAP,KAAgBC,EAAhB,KACA,GAAwCtB,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BC,EAAAA,EAAAA,UAASF,EAAaG,IAAI,UAAY,IAAhE,eAAOT,EAAP,KAAcU,EAAd,KACMkB,GAAWC,EAAAA,EAAAA,MA0BjB,OAjBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,2FACEH,GAAW,GADb,mBAGyB5B,EAAAA,EAAAA,IAAgBC,GAHzC,OAGUwB,EAHV,OAIIC,EAAUD,GAJd,gDAMIO,EAAAA,GAAAA,MAAY,kBANhB,yBAQIJ,GAAW,GARf,6EADc,sBAYA,KAAV3B,GAZW,WAAD,wBAaZgC,KAED,CAAChC,KAGF,iCACE,SAAC,EAAD,CAAMI,SA1BS,SAAAT,GACjBe,EAASf,GACTY,EAAgB,CACdP,MAAOL,OAwBN+B,IAAW,SAACO,EAAA,EAAD,IACXT,IACC,eAAIb,UAAWC,EAAAA,UAAf,SACGY,EAAOU,KAAI,gBAAGpC,EAAH,EAAGA,GAAIqC,EAAP,EAAOA,MAAP,OACV,eAAIxB,UAAWC,EAAAA,UAAf,UACE,SAAC,KAAD,CAAMwB,GAAE,kBAAatC,GAAMuC,MAAO,CAAEC,KAAMV,GAA1C,SACGO,KAF4BrC","sources":["services/Api.js","webpack://goit-react-hw-05-movies/./src/views/Movies/Movies.module.css?58de","webpack://goit-react-hw-05-movies/./src/components/Form/Form.module.css?89ba","components/Form/Form.js","views/Movies/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getMovies() {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?api_key=ecc266c5c008b90a8b88a128072b35c2'\n  );\n  return response.data.results;\n}\n\nexport async function getMoviesById(id) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=ecc266c5c008b90a8b88a128072b35c2&language=en-US`\n  );\n  return response.data;\n}\n\nexport async function getMovieByQuery(query) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=ecc266c5c008b90a8b88a128072b35c2&language=en-US&query=${query}`\n  );\n  return response.data.results;\n}\n\nexport async function getMovieCredits(id) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=ecc266c5c008b90a8b88a128072b35c2&language=en-US`\n  );\n  return response.data.cast;\n}\n\nexport async function getMovieReviews(id) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=ecc266c5c008b90a8b88a128072b35c2&language=en-US`\n  );\n  return response.data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"Movies_movieList__CFCTK\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__e1yzW\",\"input\":\"Form_input__FTtTw\",\"button\":\"Form_button__8NOIT\"};","import { useState } from 'react';\nimport s from './Form.module.css';\nimport { useSearchParams } from 'react-router-dom';\n\nfunction Form({ onSubmit }) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n\n  const handleChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase().trim());\n    setSearchParams({\n      query: event.currentTarget.value.toLowerCase().trim(),\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(query);\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <input\n        className={s.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        name=\"query\"\n        value={query}\n        autoFocus\n        onChange={handleChange}\n      ></input>\n      <button type=\"submit\" className={s.button}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nexport default Form;\n","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport toast from 'react-hot-toast';\nimport s from './Movies.module.css';\nimport { getMovieByQuery } from 'services/Api';\nimport Form from 'components/Form/Form';\n\nfunction Movies() {\n  const [movies, setMovies] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const location = useLocation();\n\n  const handleForm = data => {\n    setQuery(data);\n    setSearchParams({\n      query: data,\n    });\n  };\n\n  useEffect(() => {\n    async function fetchMovie() {\n      setLoading(true);\n      try {\n        const movies = await getMovieByQuery(query);\n        setMovies(movies);\n      } catch (error) {\n        toast.error('No movie found');\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (query !== '') {\n      fetchMovie();\n    }\n  }, [query]);\n\n  return (\n    <>\n      <Form onSubmit={handleForm} />\n      {loading && <Loader />}\n      {movies && (\n        <ul className={s.movieList}>\n          {movies.map(({ id, title }) => (\n            <li className={s.movieItem} key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default Movies;\n"],"names":["getMovies","axios","response","data","results","getMoviesById","id","getMovieByQuery","query","getMovieCredits","cast","getMovieReviews","onSubmit","useSearchParams","searchParams","setSearchParams","useState","get","setQuery","className","s","event","preventDefault","type","autoComplete","name","value","autoFocus","onChange","currentTarget","toLowerCase","trim","movies","setMovies","loading","setLoading","location","useLocation","useEffect","toast","fetchMovie","Loader","map","title","to","state","from"],"sourceRoot":""}